# Contract read API (jobs)

## Why `jobs` is internal

The `jobs` mapping is `internal` to prevent Solidity’s legacy codegen from emitting a giant tuple‑returning getter.
That auto‑generated getter was the source of the “stack too deep” compile failure when `viaIR` is disabled.
Using targeted, smaller getters keeps the ABI stable for indexers/UIs and compiles without enabling `viaIR`.

> Note: the autogenerated `jobs(jobId)` getter no longer exists in the ABI.

## Read accessors

Use the following view functions (all revert with `JobNotFound` if the job is deleted or missing):

- `getJobCore(jobId)` →
  `employer`, `assignedAgent`, `payout`, `duration`, `assignedAt`, `completed`, `disputed`, `expired`, `agentPayoutPct`
- `getJobValidation(jobId)` →
  `completionRequested`, `validatorApprovals`, `validatorDisapprovals`, `completionRequestedAt`, `disputedAt`
- `getJobURIs(jobId)` →
  `jobSpecURI`, `jobCompletionURI`, `ipfsHash`, `details`

### Validator list access

If you need the validator array, use the standard count + index accessor pattern:

- `getJobValidatorCount(jobId)`
- `getJobValidatorAt(jobId, index)`

## Indexer/UI guidance

- Use `getJobCore` + `getJobValidation` + `getJobURIs` to hydrate job rows.
- Use `jobStatus(jobId)` or `getJobStatus(jobId)` for quick status checks.
- Rely on events (`JobCreated`, `JobApplied`, `JobCompletionRequested`, `JobValidated`, `JobDisapproved`, `JobCompleted`, `JobDisputed`) for incremental indexing.
